model PasswordCode {
  id         Int      @id @default(autoincrement())
  entityType String   @db.VarChar(20) // 'trainee' ou 'user'
  entityId   Int      // ID do trainee ou user
  email      String   @db.VarChar(100)
  code       String   @db.VarChar(6)
  type       String   @db.VarChar(20) // 'first_access' ou 'reset'
  expiresAt  DateTime @map("expires_at")
  used       Boolean  @default(false)
  createdAt  DateTime @default(now()) @map("created_at")
  
  @@unique([email, code])
  @@index([expiresAt])
  @@index([entityType, entityId])
  @@map("password_code")
}