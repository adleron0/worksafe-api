model User {
  id               Int                      @id @default(autoincrement())
  name             String                   @db.VarChar(255)
  searchName       String?                  @db.VarChar(255)
  active           Boolean                  @default(true)
  email            String                   @db.VarChar(255)
  password         String                   @db.VarChar(255)
  imageUrl         String?                  @db.VarChar(255)
  phone            String                   @db.VarChar(255)
  cpf              String                   @db.VarChar(20)
  birthDate        DateTime?
  companyId        Int?
  company          Company?                 @relation(fields: [companyId], references: [id])
  profileId        Int?
  profile          Profile?                 @relation(fields: [profileId], references: [id])
  permissions      UserPermission[] // Relacionamento com UserPermission
  sessions         Session[] // Relacionamento com Session
  systemLogs       System_Logs[] // Relacionamento com System_Logs
  confinusRegister Confinus_ConfinedSpace[] @relation("RegisteredByUser")
  confinusApprove  Confinus_ConfinedSpace[] @relation("ApprovedByUser")
  isSeller        Boolean                  @default(false)
  sellerStatus    sellerStatusTypes        @default(PENDING)
  sellerConfig    Json?
  bankAccount    Json?
  address           String?         @db.VarChar(255)
  addressNumber     String?         @db.VarChar(255)
  addressComplement String?         @db.VarChar(255)
  neighborhood      String?         @db.VarChar(255)
  city              String?         @db.VarChar(255)
  state             String?         @db.VarChar(255)
  zipCode           String?         @db.VarChar(255)

  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @default(now()) @updatedAt
  inactiveAt DateTime?
  sellerActivatedAt DateTime?
  financialRecords FinancialRecords[]  // Registros financeiros associados ao seller
  coupons          Coupon[]            // Cupons associados ao seller
  splitTransactions SplitTransaction[] // Transações de split associadas ao seller

  @@unique([email, companyId]) // Garante que o email seja único dentro da mesma empresa
  @@unique([id, companyId]) // Índice composto para id e companyId
}
