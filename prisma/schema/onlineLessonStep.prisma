model OnlineLessonStep {
  id            Int         @id @default(autoincrement())
  lessonId  Int
  lesson    OnlineLesson @relation(fields: [lessonId], references: [id], onDelete: Cascade)
  companyId Int

  // Metadados da janela
  title       String      @db.VarChar(255)
  order       Int // ordem na aula
  duration    Int @default(0)
  contentType ContentType
  isActive    Boolean     @default(true)

  // Conteúdo da janela (JSON flexível)
  content Json @db.JsonB

  // Relacionamentos
  stepProgress   OnlineStudentStepProgress[]
  lessonProgress OnlineStudentLessonProgress[]
  quizResponses  OnlineQuizResponse[]

  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @default(now()) @updatedAt
  inactiveAt DateTime?

  @@index([lessonId, order])
}
