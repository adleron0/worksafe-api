model OnlineLesson {
  id            Int         @id @default(autoincrement())
  companyId Int
  courseId Int?
  course   Course? @relation(fields: [courseId], references: [id])

  // Info básica da aula
  title       String  @db.VarChar(255)
  description String? @db.Text
  version     String? @db.VarChar(50) // "v1", "básico", "avançado"
  isActive    Boolean @default(true)

  // Configurações de progresso
  progressConfig Json @default("{}") @db.JsonB
  // Exemplo de progressConfig:
  // {
  //   "videoCompletePercent": 85,     // % para considerar vídeo completo
  //   "textCompletePercent": 90,      // % para considerar texto completo  
  //   "requireSequential": true,      // steps em ordem obrigatória
  //   "allowSkip": false,            // pode pular sem completar
  //   "isRequired": true             // lição obrigatória para concluir modelo
  // }

  // Relacionamentos
  steps          OnlineLessonStep[]
  studentStepProgress   OnlineStudentStepProgress[]
  studentLessonProgress OnlineStudentLessonProgress[]
  modelLessons      OnlineModelLesson[] // pode estar em múltiplos modelos

  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @default(now()) @updatedAt
  inactiveAt DateTime?
}
